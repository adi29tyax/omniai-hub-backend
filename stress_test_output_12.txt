============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.1, pluggy-1.6.0
rootdir: E:\omniai-studio-universe\hub-backend
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

app\tests\load\test_autodirector_load.py .                               [100%]

============================== warnings summary ===============================
app\config.py:3
  E:\omniai-studio-universe\hub-backend\app\config.py:3: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

app\modules\director\schemas.py:14
  E:\omniai-studio-universe\hub-backend\app\modules\director\schemas.py:14: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class DirectorProjectResponse(DirectorProjectBase):

app\modules\director\schemas.py:33
  E:\omniai-studio-universe\hub-backend\app\modules\director\schemas.py:33: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class DirectorStoryResponse(DirectorStoryBase):

app\modules\director\schemas.py:53
  E:\omniai-studio-universe\hub-backend\app\modules\director\schemas.py:53: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CharacterResponse(CharacterBase):

app\modules\director\schemas.py:71
  E:\omniai-studio-universe\hub-backend\app\modules\director\schemas.py:71: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class SceneResponse(SceneBase):

app\modules\director\schemas.py:89
  E:\omniai-studio-universe\hub-backend\app\modules\director\schemas.py:89: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ShotResponse(ShotBase):

app\modules\director\schemas.py:112
  E:\omniai-studio-universe\hub-backend\app\modules\director\schemas.py:112: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AssetResponse(AssetBase):

app\modules\projects\schema.py:16
  E:\omniai-studio-universe\hub-backend\app\modules\projects\schema.py:16: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ProjectResponse(BaseModel):

app\modules\project_files\schema.py:17
  E:\omniai-studio-universe\hub-backend\app\modules\project_files\schema.py:17: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileResponse(BaseModel):

app\modules\project_files\schema.py:30
  E:\omniai-studio-universe\hub-backend\app\modules\project_files\schema.py:30: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileTreeItem(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 1 passed, 10 warnings in 9.38s ========================
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.1, pluggy-1.6.0
rootdir: E:\omniai-studio-universe\hub-backend
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

app\tests\load\test_ffmpeg_stress.py .                                   [100%]

============================== 1 passed in 0.35s ==============================
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.1, pluggy-1.6.0
rootdir: E:\omniai-studio-universe\hub-backend
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

app\tests\load\test_r2_upload_stress.py .                                [100%]

============================== warnings summary ===============================
app\config.py:3
  E:\omniai-studio-universe\hub-backend\app\config.py:3: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 1 passed, 1 warning in 0.41s =========================
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.1, pluggy-1.6.0
rootdir: E:\omniai-studio-universe\hub-backend
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 0 items / 1 error

=================================== ERRORS ====================================
___________ ERROR collecting app/tests/load/test_timeline_batch.py ____________
C:\Users\DELL\AppData\Roaming\Python\Python311\site-packages\_pytest\python.py:507: in importtestmodule
    mod = import_path(
C:\Users\DELL\AppData\Roaming\Python\Python311\site-packages\_pytest\pathlib.py:587: in import_path
    importlib.import_module(module_name)
C:\Program Files\Python311\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
C:\Users\DELL\AppData\Roaming\Python\Python311\site-packages\_pytest\assertion\rewrite.py:188: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\DELL\AppData\Roaming\Python\Python311\site-packages\_pytest\assertion\rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Program Files\Python311\Lib\ast.py:50: in parse
    return compile(source, filename, mode, flags,
E     File "E:\omniai-studio-universe\hub-backend\app\tests\load\test_timeline_batch.py", line 40
E       success_count = sum(results)
E   IndentationError: expected an indented block after function definition on line 38
=========================== short test summary info ===========================
ERROR app/tests/load/test_timeline_batch.py
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
============================== 1 error in 0.53s ===============================
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.1, pluggy-1.6.0
rootdir: E:\omniai-studio-universe\hub-backend
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

app\tests\load\test_ai_worker_stress.py .                                [100%]

============================= 1 passed in 50.25s ==============================
--- STARTING PHASE 9.4 LOAD & STRESS TESTS ---

[1/5] Running Auto-Director Load Test...
WARNING: High Memory Usage: 86.5%
WARNING: High Memory Usage: 86.9%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.6%
WARNING: High Memory Usage: 87.6%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.8%
WARNING: High Memory Usage: 87.7%
WARNING: High Memory Usage: 87.7%
WARNING: High Memory Usage: 87.6%
WARNING: High Memory Usage: 87.6%
Time: 10.48s

[2/5] Running FFmpeg Stress Test...
WARNING: High Memory Usage: 86.5%
WARNING: High Memory Usage: 86.8%
Time: 1.06s

[3/5] Running R2 Upload Stress Test...
WARNING: High Memory Usage: 86.6%
WARNING: High Memory Usage: 86.8%
WARNING: High Memory Usage: 87.0%
Time: 1.11s

[4/5] Running Timeline Batch Test...
WARNING: High Memory Usage: 86.6%
WARNING: High Memory Usage: 86.7%
Time: 1.19s

[5/5] Running AI Worker Stress Test...
WARNING: High Memory Usage: 86.2%
WARNING: High Memory Usage: 86.5%
WARNING: High Memory Usage: 86.5%
WARNING: High Memory Usage: 86.5%
WARNING: High Memory Usage: 86.5%
WARNING: High Memory Usage: 87.1%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.1%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.4%
WARNING: High Memory Usage: 87.1%
WARNING: High Memory Usage: 87.1%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 87.1%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.3%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.2%
WARNING: High Memory Usage: 87.0%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.5%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.5%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.5%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.8%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.8%
WARNING: High Memory Usage: 85.8%
WARNING: High Memory Usage: 85.8%
WARNING: High Memory Usage: 85.8%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.6%
WARNING: High Memory Usage: 85.7%
WARNING: High Memory Usage: 85.7%
Time: 50.92s

--- PHASE 9.4 LOAD & STRESS TEST COMPLETE ---

Summary:
{
  "results": {
    "autodirector": "PASS",
    "ffmpeg": "PASS",
    "r2_upload": "PASS",
    "timeline": "FAIL",
    "ai_worker": "PASS"
  },
  "resources": {
    "cpu_max": 100.0,
    "cpu_avg": 53.959689922480635,
    "memory_max": 87.8,
    "memory_avg": 86.84263565891479,
    "disk_max": 5.5
  }
}
